// Generated by CoffeeScript 2.7.0
var INPUT_QUERY_SELECTOR, log;

INPUT_QUERY_SELECTOR = "#prompt-textarea";

log = function(s, ...args) {
  return console.log("[cGPTts Background]: " + s, ...args);
};

browser.webRequest.onCompleted.addListener(function(details) {
  log("Response received at:", new Date().toISOString());
  return browser.tabs.query({
    active: true,
    currentWindow: true
  }).then(function(tabs) {
    if (tabs.length > 0) {
      return browser.tabs.sendMessage(tabs[0].id, {
        action: "insertTimestamp"
      });
    }
  });
}, {
  urls: ["*://chatgpt.com/*"]
});

log(`load complete at ${new Date().toISOString()}`);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlcyI6WyJzcmMvYmFja2dyb3VuZC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsb0JBQUEsRUFBQTs7QUFBQSxvQkFBQSxHQUF1Qjs7QUFFdkIsR0FBQSxHQUFNLFFBQUEsQ0FBQyxDQUFELEVBQUEsR0FBSSxJQUFKLENBQUE7U0FDSixPQUFPLENBQUMsR0FBUixDQUFZLHVCQUFBLEdBQTBCLENBQXRDLEVBQXlDLEdBQUEsSUFBekM7QUFESTs7QUFHTixPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxXQUEvQixDQUNFLFFBQUEsQ0FBQyxPQUFELENBQUE7RUFDRSxHQUFBLENBQUksdUJBQUosRUFBNkIsSUFBSSxJQUFKLENBQUEsQ0FBVSxDQUFDLFdBQVgsQ0FBQSxDQUE3QjtTQUVBLE9BQ0UsQ0FBQyxJQUFJLENBQUMsS0FEUixDQUNjO0lBQUMsTUFBQSxFQUFRLElBQVQ7SUFBZSxhQUFBLEVBQWU7RUFBOUIsQ0FEZCxDQUVFLENBQUMsSUFGSCxDQUVRLFFBQUEsQ0FBQyxJQUFELENBQUE7SUFDSixJQUFHLElBQUksQ0FBQyxNQUFMLEdBQWMsQ0FBakI7YUFDRSxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQWIsQ0FBeUIsSUFBSSxDQUFDLENBQUQsQ0FBRyxDQUFDLEVBQWpDLEVBQXFDO1FBQUUsTUFBQSxFQUFRO01BQVYsQ0FBckMsRUFERjs7RUFESSxDQUZSO0FBSEYsQ0FERixFQVNFO0VBQUUsSUFBQSxFQUFNLENBQUMsbUJBQUQ7QUFBUixDQVRGOztBQVlBLEdBQUEsQ0FBSSxDQUFBLGlCQUFBLENBQUEsQ0FBb0IsSUFBSSxJQUFKLENBQUEsQ0FBVSxDQUFDLFdBQVgsQ0FBQSxDQUFwQixDQUFBLENBQUoiLCJzb3VyY2VzQ29udGVudCI6WyJJTlBVVF9RVUVSWV9TRUxFQ1RPUiA9IFwiI3Byb21wdC10ZXh0YXJlYVwiXG5cbmxvZyA9IChzLCBhcmdzLi4uKSAtPlxuICBjb25zb2xlLmxvZyBcIltjR1BUdHMgQmFja2dyb3VuZF06IFwiICsgcywgYXJncy4uLlxuXG5icm93c2VyLndlYlJlcXVlc3Qub25Db21wbGV0ZWQuYWRkTGlzdGVuZXIoXG4gIChkZXRhaWxzKSAtPlxuICAgIGxvZyBcIlJlc3BvbnNlIHJlY2VpdmVkIGF0OlwiLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcblxuICAgIGJyb3dzZXJcbiAgICAgIC50YWJzLnF1ZXJ5IHthY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWV9XG4gICAgICAudGhlbiAodGFicykgLT5cbiAgICAgICAgaWYgdGFicy5sZW5ndGggPiAwXG4gICAgICAgICAgYnJvd3Nlci50YWJzLnNlbmRNZXNzYWdlIHRhYnNbMF0uaWQsIHsgYWN0aW9uOiBcImluc2VydFRpbWVzdGFtcFwiIH1cbiAgeyB1cmxzOiBbXCIqOi8vY2hhdGdwdC5jb20vKlwiXSB9XG4pXG5cbmxvZyBcImxvYWQgY29tcGxldGUgYXQgI3tuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XCJcblxuIl19
//# sourceURL=/mnt/robert-home/robert/git/github/rdeforest/ChatGPT-timestamp/src/background.coffee