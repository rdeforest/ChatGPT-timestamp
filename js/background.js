// Generated by CoffeeScript 2.7.0
var INPUT_QUERY_SELECTOR, log;

INPUT_QUERY_SELECTOR = "#prompt-textarea";

log = function(s, ...args) {
  return console.log("[cGPTts Background]: " + s, ...args);
};

browser.webRequest.onCompleted.addListener(function(details) {
  log("Response received at:", new Date().toISOString());
  return browser.tabs.query({
    active: true,
    currentWindow: true
  }).then(function(tabs) {
    if (tabs.length > 0) {
      return browser.tabs.sendMessage(tabs[0].id, {
        action: "insertTimestamp"
      });
    }
  });
}, {
  urls: ["*://chatgpt.com/*"]
});

log(`load complete at ${new Date().toISOString()}`);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsInNvdXJjZVJvb3QiOiIuLi8iLCJzb3VyY2VzIjpbInNyYy9iYWNrZ3JvdW5kLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxvQkFBQSxFQUFBOztBQUFBLG9CQUFBLEdBQXVCOztBQUV2QixHQUFBLEdBQU0sUUFBQSxDQUFDLENBQUQsRUFBQSxHQUFJLElBQUosQ0FBQTtTQUNKLE9BQU8sQ0FBQyxHQUFSLENBQVksdUJBQUEsR0FBMEIsQ0FBdEMsRUFBeUMsR0FBQSxJQUF6QztBQURJOztBQUdOLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLFdBQS9CLENBQ0UsUUFBQSxDQUFDLE9BQUQsQ0FBQTtFQUNFLEdBQUEsQ0FBSSx1QkFBSixFQUE2QixJQUFJLElBQUosQ0FBQSxDQUFVLENBQUMsV0FBWCxDQUFBLENBQTdCO1NBRUEsT0FDRSxDQUFDLElBQUksQ0FBQyxLQURSLENBQ2M7SUFBQyxNQUFBLEVBQVEsSUFBVDtJQUFlLGFBQUEsRUFBZTtFQUE5QixDQURkLENBRUUsQ0FBQyxJQUZILENBRVEsUUFBQSxDQUFDLElBQUQsQ0FBQTtJQUNKLElBQUcsSUFBSSxDQUFDLE1BQUwsR0FBYyxDQUFqQjthQUNFLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBYixDQUF5QixJQUFJLENBQUMsQ0FBRCxDQUFHLENBQUMsRUFBakMsRUFBcUM7UUFBRSxNQUFBLEVBQVE7TUFBVixDQUFyQyxFQURGOztFQURJLENBRlI7QUFIRixDQURGLEVBU0U7RUFBRSxJQUFBLEVBQU0sQ0FBQyxtQkFBRDtBQUFSLENBVEY7O0FBWUEsR0FBQSxDQUFJLENBQUEsaUJBQUEsQ0FBQSxDQUFvQixJQUFJLElBQUosQ0FBQSxDQUFVLENBQUMsV0FBWCxDQUFBLENBQXBCLENBQUEsQ0FBSiIsInNvdXJjZXNDb250ZW50IjpbIklOUFVUX1FVRVJZX1NFTEVDVE9SID0gXCIjcHJvbXB0LXRleHRhcmVhXCJcblxubG9nID0gKHMsIGFyZ3MuLi4pIC0+XG4gIGNvbnNvbGUubG9nIFwiW2NHUFR0cyBCYWNrZ3JvdW5kXTogXCIgKyBzLCBhcmdzLi4uXG5cbmJyb3dzZXIud2ViUmVxdWVzdC5vbkNvbXBsZXRlZC5hZGRMaXN0ZW5lcihcbiAgKGRldGFpbHMpIC0+XG4gICAgbG9nIFwiUmVzcG9uc2UgcmVjZWl2ZWQgYXQ6XCIsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuXG4gICAgYnJvd3NlclxuICAgICAgLnRhYnMucXVlcnkge2FjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZX1cbiAgICAgIC50aGVuICh0YWJzKSAtPlxuICAgICAgICBpZiB0YWJzLmxlbmd0aCA+IDBcbiAgICAgICAgICBicm93c2VyLnRhYnMuc2VuZE1lc3NhZ2UgdGFic1swXS5pZCwgeyBhY3Rpb246IFwiaW5zZXJ0VGltZXN0YW1wXCIgfVxuICB7IHVybHM6IFtcIio6Ly9jaGF0Z3B0LmNvbS8qXCJdIH1cbilcblxubG9nIFwibG9hZCBjb21wbGV0ZSBhdCAje25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1cIlxuXG4iXX0=
//# sourceURL=/Users/robert/git/github/rdeforest/ChatGPT-timestamp/src/background.coffee